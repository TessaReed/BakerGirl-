'use strict';

/**
 * Dependencies.
 */

<<<<<<< HEAD
const fs = require('fs');
=======
var fs = require('fs');
>>>>>>> 0d403733e119e2e26bc76e265ddac2201a98095c

/**
 * Export `getOptions`.
 */

module.exports = getOptions;

/**
 * Get options.
 */

function getOptions () {
<<<<<<< HEAD
  if (process.argv.length === 3 && (process.argv[2] === '-h' || process.argv[2] === '--help')) {
    return;
  }

  const optsPath = process.argv.indexOf('--opts') === -1
=======
  var optsPath = process.argv.indexOf('--opts') === -1
>>>>>>> 0d403733e119e2e26bc76e265ddac2201a98095c
    ? 'test/mocha.opts'
    : process.argv[process.argv.indexOf('--opts') + 1];

  try {
<<<<<<< HEAD
    const opts = fs.readFileSync(optsPath, 'utf8')
      .replace(/\\\s/g, '%20')
      .split(/\s/)
      .filter(Boolean)
      .map(value => value.replace(/%20/g, ' '));
=======
    var opts = fs.readFileSync(optsPath, 'utf8')
      .replace(/\\\s/g, '%20')
      .split(/\s/)
      .filter(Boolean)
      .map(function (value) {
        return value.replace(/%20/g, ' ');
      });
>>>>>>> 0d403733e119e2e26bc76e265ddac2201a98095c

    process.argv = process.argv
      .slice(0, 2)
      .concat(opts.concat(process.argv.slice(2)));
  } catch (err) {
    // ignore
  }

  process.env.LOADED_MOCHA_OPTS = true;
}
